Краткое описание Sdk
--------------------
**Подключение библиотеки**:
Необходимо подключить репозитарий:
в секции repositories проекта добавить:
```
maven {
   url 'http://firmware.peers.tv/android/inetra_adv_sdk_repo'
}
```

В секции dependencies приложения добавить:
```
implementation "ru.inetra:Inetra_adv:x.x.x"
```

**Использование библиотеки**:
Библиотека предоставляет обертку **AdvPlayer**, которая накладывается на штатный плеер приложения. Обертка взаимодействует со штатным плеером через интерфейс **AdvPlayer.MediaPlayer**.

Пример использования **AdvPlayer** показан в прилагаемом тестовом приложении **adv_player_example**. Примеры реализации интерфейса **AdvPlayer.MediaPlayer** штатным плеером показаны в **ExoMediaPlayer.kt** и **AndroidMediaPlayer.kt**.

В конструктор **AdvPlayer** передаются параметры:
* объект штатного плеера приложения
* Layout, на котором будет выводится как контент проигрываемый плеером, так и реклама.
* конфиг, содержит параметры рекламного модуля

Штатный плеер для взаимодействия с рекламным модулем должен реализовать интерфейс **AdvPlayer.MediaPlayer**. **AdvPlayer.MediaPlayer** включает вложенный интерфейс **AdvPlayer.MediaPlayer.Listener** это события о которых штатный плеер должен уведомлять рекламный модуль.

Реклама запускается перед каждым запуском штатного плеера.
У **AdvPlayer** есть свойство adsEnabled. true (по умолчанию) - реклама будет запускаться
после каждого **AdvPlayer.play**. Установка свойства в false отключает рекламу, проигрывается только контент.

После загрузки рекламы срабатывает callback **onAdLoadingFinished(hasAdv: Boolean)**. **hasAdv** показывает есть ои реклама, если есть то будлет показана, если нет плеер сразу начнет показ контента. Рекламы может не быть по разным причинам: рекламы нет в рекламной сети на данной момент, сработало ограничение на количество рекламы для уникального пользователя, произошла ошибка при загрузке рекламы (сработает callback **onAdError** c описанием ошибки). Перед запуском рекламы срабатывает callback **onAdStarted()**, после окончания рекламного ролика или если пользователь нажал кнопку "Пропустить" срабатывает **onAdStopped()**. Если пользователь тапнул на рекламе вызывается **onAdClick(adUri)**, где **adUri** - ссылка на сайт рекламодателя. Её можно открыть в штатном браузере.

В конфиге указываются параметры:
* **authClientId** - идентификатор клиента
* **authClientSecret** - пароль клиента
* **prerollPlaceIds** - список идентификаторов рекламных мест

Под рекламным местом понимается сущность содержащая набор настроек показываемой рекламы. К примеру нужно показывать разную рекламу в разных разделах приложения. Для каждого раздела создается свое рекламное место. У метода **AdvPlayer.play** есть параметр - **adPlaceId**. Он показывает для какого рекламного места будет проиграна реклама. Значение **adPlaceId** должно быть списке **prerollPlaceIds** (в конфиге).

События **AdvPlayer.AdEvent** (обработчик **onAdEvent** служит для трассировки событий):
* AD_SYSTEM_LOADED - получена информация от интегрирующего API о рекламных сетях
* AD_SYSTEM_INFO_LOADED - выбрана рекламная сеть и поcлан запрос в ее API
* AD_SYSTEM_LOAD_SUCCESS -рекламная сеть ответила что есть реклама
* AD_SYSTEM_LOAD_NO_AD - рекламная сеть ответила что нет рекламы (или
  ответ не понят в этом случае должен дернуться onAdError)
* AD_SYSTEM_LOAD_TIMEOUT - рекламная сеть не ответила
* START - пуск рекламы
* COMPLETE - реклама проиграна
* USER_CLICK - на приставках НЕ ПОДДЕРЖИВАЕТСЯ, в мобилках пользователь тапнул на рекламе
* USER_SKIP - пользователь нажал кнопку пропустить рекламу

